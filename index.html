<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Offer Letter Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        #offerLetter {
            width: 794px; /* A4 width in pixels */
            height: 1123px; /* A4 height in pixels */
            border: 2px solid black;
            padding: 20px;
            box-sizing: border-box;
            margin: 0 auto;
        }

        label {
            display: block;
            margin-bottom: 10px;
        }

        input {
            width: 100%;
            padding: 8px;
            margin-bottom: 20px;
            box-sizing: border-box;
        }

        #body {
            width: 100%;
            min-height: 100px;
            margin-bottom: 20px;
            box-sizing: border-box;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        button {
            padding: 10px;
            background-color: #4caf50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    
    <div id="offerLetter">
        
        <h2>Mass Offer Letter Generator</h2>
        <!-- Rest of your form remains unchanged -->
        <!-- Input element for file upload -->
        <label for="logo">Company Logo&nbsp;(Dim:6912x1363px) :</label>
        <input type="file" id="logo" accept="image/*">

        <label for="name">Candidate Name:</label>
        <input type="text" id="name" placeholder="Enter applicant name" value="kedj" ></input>

        <label for="body">Letter body:</label>
        <div id="body" contenteditable="true">
            <p>As quoted by Colin Powell “Success is not a matter of luck, it’s a matter of preparation and hard work.”</p>
            <p>On behalf of the TEDx Chapter of VIT Bhopal, we would like to extend our sincere congratulations on getting selected as the Core Team Member in the Production and Design Team of the TEDx Chapter. We welcome you to join this initiative which aims to research and discover “ideas worth spreading” and bring the spirit of TED to local communities around the globe through TEDx events.</p>
            <p>Your application stood out from the other overwhelming responses we received due to your capabilities to handle pressure, execution of your ideas, and expertise in the respective field. Your dedication and enthusiasm to join the initiative were the key factors to make us believe that you are the right choice for the position and led to this remarkable achievement.</p>
            <p>We are delighted to have you on board. We hope that we all can work together to help the chapter to achieve its objectives and at the same time enjoy the process.</p>
            <p>The journey of thousand miles begins with a single step. With this being said, we look forward to your dedicated involvement in the chapter activities. Let’s take this emerging chapter to further heights and be the change we want to see in the world.</p>
        </div>

        <label for="closetatement">Closing Statement:</label>
        <input type="text" id="closetatement" placeholder="Best Regards/Thank You/Faithfully/etc." value="bwestg">
        
        <label for="company">Your Club Name:</label>
        <input type="text" id="company" placeholder="Enter Your Club name" value="CWC">

        <button onclick="generateOfferLetter()">Generate Offer Letter</button>
    </div>

    <script>
         function generateOfferLetter() {
            const name = document.getElementById('name').value.trim();
            const body = document.getElementById('body').innerHTML.trim(); // Use innerHTML for contenteditable
            const closetatement = document.getElementById('closetatement').value.trim();
            const company = document.getElementById('company').value.trim();

            if (!name || !body || !company) {
                alert('Please fill in all fields.');
                return;
            }

            // Get the selected image file
            const logoInput = document.getElementById('logo');
            const logoFile = logoInput.files[0];

            let logoSrc = 'img.png'; // Default image source

            if (logoFile) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    logoSrc = e.target.result;
                    generatePDF(name, body, closetatement, company, logoSrc);
                };

                reader.readAsDataURL(logoFile);
            } else {
                generatePDF(name, body, closetatement, company, logoSrc);
            }
        }

        function generatePDF(name, body, closetatement, company, logoSrc) {
            const content = `
                <div style="text-align: center;">
                    <img src="${logoSrc}" alt="Company Logo" style="width: 100%; height: 100px; padding-top: -20px; display: block; margin-left: auto; margin-right: auto;">
                </div>
                <div style="text-align: center;"><h3><hr>Letter of Appointment<hr></h3></div>
                <h4>Dear ${name},</h4>
                <div>${body}</div>
                <!-- Add more content as needed -->

                <p>${closetatement},</p>
                <p>${company}</p>
            `;

            const offerLetter = document.createElement('div');
            offerLetter.innerHTML = content;

            const pdfOptions = {
                margin: 0,
                filename: `${name}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };

            html2pdf(offerLetter, pdfOptions);
        }
    </script>

    <script src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>
</body>
</html>
